

<p>
  <strong>Cache:</strong>
  <pre>
    <%= @statement.cache %>
  </pre>
</p>

<p>
  <strong>Status:</strong>
  <%= @statement.status %>
</p>


<p>
  <strong>manual:</strong>
  <%= @statement.manual %>
</p>

<p>
  <strong>selected_individual:</strong>
  <%= @statement.selected_individual %>
</p>

<p>
  <strong>Status origin:</strong>
  <%= @statement.status_origin %>
</p>

<p>
  <strong>Cache refreshed:</strong>
  <%= @statement.cache_refreshed %>
</p>

<p>
  <strong>Cache changed:</strong>
  <%= @statement.cache_changed %>
</p>

<p>
  <strong>Source:</strong>
  <%= @statement.source.algorithm_value %>
   <%= link_to "Show", source_path(@statement.source.id) %>
</p>

<p>
  <strong>Webpage:</strong>
  <%= @statement.webpage.url %>
  <a href="<%= get_wringer_url_per_environment %>/websites?term=<%= CGI.escape(CGI.escape(@statement.webpage.url)) %>"> View on Wringer</a> 
  <%= link_to "Show", webpage_path(@statement.webpage) %>
</p>

<p>
  <strong>updated:</strong>
  <%= @statement.updated_at %>
</p>


<hr>
<p>
Change status:


  <%= form_with(model: @statement, local: true,  html: { style:'display:inline;' }) do |form| %>
    <%= form.hidden_field :status, id: :statement_status, value: "initial"%>
      <%= form.submit "Initial"%>
  <% end %>

  <%= form_with(model: @statement, local: true,  html: { style:'display:inline;' }) do |form| %>
    <%= form.hidden_field :status, id: :statement_status, value: "missing"%>
   
      <%= form.submit "Missing"%>
    
  <% end %>

   <%= form_with(model: @statement, local: true,  html: { style:'display:inline;' }) do |form| %>
    <%= form.hidden_field :status, id: :statement_status, value: "ok"%>
   
      <%= form.submit "Ok"%>
   
  <% end %>

  <%= form_with(model: @statement, local: true,  html: { style:'display:inline;' }) do |form| %>
    <%= form.hidden_field :status, id: :statement_status, value: "problem"%>
  
      <%= form.submit "Problem"%>
   
  <% end %>

  <%= form_with(model: @statement, local: true,  html: { style:'display:inline;' }) do |form| %>
    <%= form.hidden_field :status, id: :statement_status, value: "updated"%>
   
      <%= form.submit "Updated"%>
    
  <% end %>

</p>

<hr>
<p>
Activate:
<%= link_to "Activate source", activate_statement_path(@statement), local: true, format: :json,  method: :patch %>
|
<%= link_to "Activate indivdual statement", activate_individual_statement_path(@statement), local: true, format: :json,  method: :patch %>
|
<%= link_to "Deactive indivdual statement", deactivate_individual_statement_path(@statement), local: true, format: :json,  method: :patch %>

</p>

<hr>
<p>
Manual update:
<%= form_with(model: @statement, local: true) do |form| %>

  <%= form.text_field :cache, id: :statement_cache, size: 80%>
  <div class="actions">
    <%= form.submit "Update Cache"%>
  </div>
<% end %>
</p>

<hr>
<%= button_to 'Refresh', refresh_statement_path(@statement), method: :patch, form_class: 'inline', class: 'as-link' %> |
<%= link_to 'Edit', edit_statement_path(@statement) %> |
<%= link_to 'Back', statements_path %>

<%= render partial: "trace_table", locals: { trace: @trace, result: @result } if @trace.present? %>