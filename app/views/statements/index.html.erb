<p id="notice"><%= notice %></p>

<h1>Statements</h1>
<% if params[:rdf_uri] %>
  <p> Showing statements for <%= params[:rdf_uri] %> <%=  link_to "Refresh", refresh_rdf_uri_statements_path(rdf_uri: params[:rdf_uri]), method: :patch %> 
      </p>
<% end %>

<%= will_paginate @statements %>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Property</th>
      <th>Cache</th>
      <th>Status</th>
      <th>Selected</th>
      <th>Status origin</th>
      <th>Cache refreshed</th>
      <th>Cache changed</th>
  
      <th>Webpage</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @statements.each do |statement| %>
      <tr  <%= "style=background-color:pink;" if !statement.source.selected %> >
        <td><%= statement.id %></td>
        <td><%= statement.source.property.label %> <%= format_language statement.source.language%></td>
        <td><%= statement.cache %></td>
        <td><%= statement.status %></td>
        <td <%= "style=color:red;" if !statement.source.selected %>><%= statement.source.selected %></td>
        <td><%= statement.status_origin %></td>
        <td><%= statement.cache_refreshed %></td>
        <td><%= statement.cache_changed %></td>
        <td><%= statement.webpage.url %></td>
        <td><%= link_to 'Show', statement %></td>
        <td><%= link_to 'Edit', edit_statement_path(statement) %></td>
        <td><%= link_to 'Destroy', statement, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Statement', new_statement_path %>
